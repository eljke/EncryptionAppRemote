document.addEventListener("DOMContentLoaded", function() {
const originalText = `А ещё интерактивные прототипы представлены в исключительно положительном свете. С учётом сложившейся международной обстановки, внедрение современных методик требует определения и уточнения направлений прогрессивного развития. Банальные, но неопровержимые выводы, а также сторонники тоталитаризма в науке ассоциативно распределены по отраслям. Принимая во внимание показатели успешности, глубокий уровень погружения напрямую зависит от первоочередных требований.

            Имеется спорная точка зрения, гласящая примерно следующее: сторонники тоталитаризма в науке и по сей день остаются уделом либералов, которые жаждут быть функционально разнесены на независимые элементы. Как принято считать, явные признаки победы институционализации неоднозначны и будут превращены в посмешище, хотя само их существование приносит несомненную пользу обществу. В целом, конечно, понимание сути ресурсосберегающих технологий влечет за собой процесс внедрения и модернизации экономической целесообразности принимаемых решений. Предварительные выводы неутешительны: сложившаяся структура организации предоставляет широкие возможности для благоприятных перспектив. А ещё акционеры крупнейших компаний ассоциативно распределены по отраслям.

            Но диаграммы связей разоблачены. Ясность нашей позиции очевидна: разбавленное изрядной долей эмпатии, рациональное мышление однозначно определяет каждого участника как способного принимать собственные решения касаемо распределения внутренних резервов и ресурсов. Кстати, представители современных социальных резервов превращены в посмешище, хотя само их существование приносит несомненную пользу обществу. Повседневная практика показывает, что социально-экономическое развитие предоставляет широкие возможности для новых предложений.
            Имеется спорная точка зрения, гласящая примерно следующее: элементы политического процесса лишь добавляют фракционных разногласий и в равной степени предоставлены сами себе. Сложно сказать, почему тщательные исследования конкурентов неоднозначны и будут смешаны с не уникальными данными до степени совершенной неузнаваемости, из-за чего возрастает их статус бесполезности.
        `;

    const textContainer = document.getElementById("changing-text");
    let currentText = originalText;

    function getNextLetter(letter) {
        if (letter === 'я') return 'а'; // Чтобы зациклить алфавит
        if (letter === 'Я') return 'А';
        if (/[а-я]/.test(letter)) return String.fromCharCode(letter.charCodeAt(0) + 1);
        if (/[А-Я]/.test(letter)) return String.fromCharCode(letter.charCodeAt(0) + 1);
        return letter;
    }

    function animateText(text) {
        textContainer.innerHTML = '';
        for (let i = 0; i < text.length; i++) {
            const letter = text[i];
            const span = document.createElement('span');
            span.textContent = letter;
            textContainer.appendChild(span);
            setTimeout(() => {
                const newLetter = getNextLetter(letter);
                span.textContent = newLetter;
                if (i === text.length - 1) {
                    currentText = textContainer.textContent; // Сохраняем измененный текст
                    setTimeout(() => {
                        animateText(currentText); // Начинаем новый цикл анимации с измененным текстом
                    }, 100); // Задержка перед повторной анимацией
                }
            }, i * 15); // Задержка в миллисекундах между сменой букв
        }
    }

    animateText(originalText);
});
